<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TAKESHIBA Memories</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1 class="title">TAKESHIBA Memories</h1>
            <p class="subtitle">あなたの体験をAIが俳句にします</p>
        </header>
        
        <main class="main">
            <!-- 俳句生成セクション -->
            <div class="haiku-generation-section">
                <div class="section-header">
                    <h2>🎋 新しい俳句を作る</h2>
                    <p>あなたの竹芝での体験を<br>俳句にしてみんなと共有してみませんか？</p>
                </div>
                
                <div class="survey-container">
                    <form id="survey-form" class="survey-form">
                        <div class="form-group">
                            <label for="purpose">あなたは何をしに竹芝に来ましたか？</label>
                            <select id="purpose" name="purpose" required>
                                <option value="">選択してください</option>
                                <option value="work">仕事・通勤</option>
                                <option value="leisure">レジャー・観光</option>
                                <option value="shopping">買い物</option>
                                <option value="dining">食事</option>
                                <option value="meeting">会議・打ち合わせ</option>
                                <option value="exercise">運動・散歩</option>
                                <option value="other">その他</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="mood">あなたの今の気分は？</label>
                            <div class="mood-options">
                                <div class="mood-option" data-mood="exhilarated">
                                    <span class="mood-emoji">🚀</span>
                                    <span class="mood-text">高揚している</span>
                                </div>
                                <div class="mood-option" data-mood="excited">
                                    <span class="mood-emoji">🤩</span>
                                    <span class="mood-text">わくわくする</span>
                                </div>
                                <div class="mood-option" data-mood="inspired">
                                    <span class="mood-emoji">✨</span>
                                    <span class="mood-text">刺激的だ</span>
                                </div>
                                <div class="mood-option" data-mood="joyful">
                                    <span class="mood-emoji">😊</span>
                                    <span class="mood-text">楽しい</span>
                                </div>
                                <div class="mood-option" data-mood="calm">
                                    <span class="mood-emoji">😌</span>
                                    <span class="mood-text">穏やか</span>
                                </div>
                                <div class="mood-option" data-mood="relaxed">
                                    <span class="mood-emoji">🧘</span>
                                    <span class="mood-text">リラックス</span>
                                </div>
                                <div class="mood-option" data-mood="content">
                                    <span class="mood-emoji">😌</span>
                                    <span class="mood-text">満たされている</span>
                                </div>
                                <div class="mood-option" data-mood="hopeful">
                                    <span class="mood-emoji">🌟</span>
                                    <span class="mood-text">前向きな気分</span>
                                </div>
                                <div class="mood-option" data-mood="melancholy">
                                    <span class="mood-emoji">😔</span>
                                    <span class="mood-text">憂鬱だ</span>
                                </div>
                                <div class="mood-option" data-mood="lonely">
                                    <span class="mood-emoji">😢</span>
                                    <span class="mood-text">孤独を感じる</span>
                                </div>
                                <div class="mood-option" data-mood="tired">
                                    <span class="mood-emoji">😴</span>
                                    <span class="mood-text">疲れている</span>
                                </div>
                                <div class="mood-option" data-mood="apathetic">
                                    <span class="mood-emoji">😑</span>
                                    <span class="mood-text">無気力だ</span>
                                </div>
                                <div class="mood-option" data-mood="anxious">
                                    <span class="mood-emoji">😰</span>
                                    <span class="mood-text">焦っている</span>
                                </div>
                                <div class="mood-option" data-mood="tense">
                                    <span class="mood-emoji">😬</span>
                                    <span class="mood-text">緊張している</span>
                                </div>
                                <div class="mood-option" data-mood="irritated">
                                    <span class="mood-emoji">😠</span>
                                    <span class="mood-text">いらいらする</span>
                                </div>
                                <div class="mood-option" data-mood="surprised">
                                    <span class="mood-emoji">😲</span>
                                    <span class="mood-text">驚いている</span>
                                </div>
                            </div>
                            <input type="hidden" id="mood" name="mood" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="reason">なぜその気分なのですか？</label>
                            <textarea id="reason" name="reason" placeholder="その気分になった理由を教えてください..." required></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="location">現在いる場所は？</label>
                            <select id="location" name="location">
                                <option value="">選択してください</option>
                                <option value="garden">庭</option>
                                <option value="chair">椅子</option>
                                <option value="exhibition">展示室</option>
                                <option value="elevator">エレベーター</option>
                                <option value="restaurant">レストラン</option>
                                <option value="other">その他</option>
                            </select>
                        </div>
                        
                        <div class="form-actions">
                            <button type="submit" class="submit-btn" id="submit-btn">
                                <span class="btn-text">俳句を生成する</span>
                                <span class="btn-loading" style="display: none;">俳句生成中...</span>
                            </button>
                        </div>
                    </form>
                    
                    <div id="result-section" class="result-section" style="display: none;">
                        <div class="haiku-result">
                            <h3>あなたの俳句</h3>
                            <div class="haiku-display" id="haiku-display"></div>
                            <div class="haiku-info">
                                <p>🎋 あなたの体験が俳句になりました</p>
                                <p class="note">竹芝エリアでの体験を俳句として記録しました</p>
                            </div>
                            <div class="haiku-actions">
                                <button class="action-btn" id="share-btn">共有する</button>
                                <button class="action-btn" id="new-haiku-btn">新しい俳句を作る</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 他の人の俳句閲覧セクション -->
            <div class="haiku-gallery-section">
                <div class="section-header">
                    <h2>📜 みんなの俳句</h2>
                    <p>他の人が作った俳句を見てみましょう</p>
                </div>
                
                <div class="haiku-filters">
                    <button class="filter-btn active" data-location="all">すべて</button>
                    <button class="filter-btn" data-location="garden">庭</button>
                    <button class="filter-btn" data-location="chair">椅子</button>
                    <button class="filter-btn" data-location="exhibition">展示室</button>
                    <button class="filter-btn" data-location="elevator">エレベーター</button>
                    <button class="filter-btn" data-location="restaurant">レストラン</button>
                </div>
                
                <div id="haiku-gallery" class="haiku-gallery">
                    <!-- 動的に俳句が表示されます -->
                </div>
                
                <div class="loading-indicator" id="loading-indicator" style="display: none;">
                    <div class="spinner"></div>
                    <p>俳句を読み込み中...</p>
                </div>
            </div>
        </main>
        
        <footer class="footer">
            <p>慶應義塾大学大学院メディアデザイン研究科</p>
            <p>MeLIGHT Project</p>
        </footer>
    </div>
    
    <script src="/socket.io/socket.io.js"></script>
    <script src="app.js"></script>
</body>
</html>