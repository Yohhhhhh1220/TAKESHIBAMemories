<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TAKESHIBA Memories</title>
    <link rel="stylesheet" href="/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <header class="header">
            <img src="/logo.png" alt="" class="logo" onerror="this.style.display='none';">
            <p class="subtitle">感情が見える聞こえる街に</p>
        </header>
        
        <main class="main">
            <!-- 川柳生成セクション -->
            <div class="haiku-generation-section">
                <div class="section-header">
                    <h2>🎋 新しい川柳を作る</h2>
                    <p>あなたの今をAIが川柳にします<br>みんなと共有してみませんか？</p>
                </div>
                
                <div class="survey-container">
                    <form id="survey-form" class="survey-form">
                        <div class="form-group">
                            <label for="purpose">あなたは何をしに竹芝に来ましたか？</label>
                            <select id="purpose" name="purpose" required>
                                <option value="">選択してください</option>
                                <option value="work">仕事・通勤</option>
                                <option value="leisure">レジャー・観光</option>
                                <option value="shopping">買い物</option>
                                <option value="dining">食事</option>
                                <option value="meeting">会議・打ち合わせ</option>
                                <option value="exercise">運動・散歩</option>
                                <option value="other">その他</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="mood">あなたの今の気分を1つ選びましょう！</label>
                            <div class="mood-options">
                                <div class="mood-option" data-mood="exhilarated">
                                    <span class="mood-emoji">🚀</span>
                                    <span class="mood-text">高揚している</span>
                                </div>
                                <div class="mood-option" data-mood="excited">
                                    <span class="mood-emoji">🤩</span>
                                    <span class="mood-text">わくわくする</span>
                                </div>
                                <div class="mood-option" data-mood="inspired">
                                    <span class="mood-emoji">✨</span>
                                    <span class="mood-text">刺激的だ</span>
                                </div>
                                <div class="mood-option" data-mood="joyful">
                                    <span class="mood-emoji">😊</span>
                                    <span class="mood-text">楽しい</span>
                                </div>
                                <div class="mood-option" data-mood="calm">
                                    <span class="mood-emoji">😌</span>
                                    <span class="mood-text">穏やか</span>
                                </div>
                                <div class="mood-option" data-mood="relaxed">
                                    <span class="mood-emoji">🧘</span>
                                    <span class="mood-text">リラックス</span>
                                </div>
                                <div class="mood-option" data-mood="content">
                                    <span class="mood-emoji">😌</span>
                                    <span class="mood-text">満たされている</span>
                                </div>
                                <div class="mood-option" data-mood="hopeful">
                                    <span class="mood-emoji">🌟</span>
                                    <span class="mood-text">前向きな気分</span>
                                </div>
                                <div class="mood-option" data-mood="melancholy">
                                    <span class="mood-emoji">😔</span>
                                    <span class="mood-text">憂鬱だ</span>
                                </div>
                                <div class="mood-option" data-mood="lonely">
                                    <span class="mood-emoji">😢</span>
                                    <span class="mood-text">孤独を感じる</span>
                                </div>
                                <div class="mood-option" data-mood="tired">
                                    <span class="mood-emoji">😴</span>
                                    <span class="mood-text">疲れている</span>
                                </div>
                                <div class="mood-option" data-mood="apathetic">
                                    <span class="mood-emoji">😑</span>
                                    <span class="mood-text">無気力だ</span>
                                </div>
                                <div class="mood-option" data-mood="anxious">
                                    <span class="mood-emoji">😰</span>
                                    <span class="mood-text">焦っている</span>
                                </div>
                                <div class="mood-option" data-mood="tense">
                                    <span class="mood-emoji">😬</span>
                                    <span class="mood-text">緊張している</span>
                                </div>
                                <div class="mood-option" data-mood="irritated">
                                    <span class="mood-emoji">😠</span>
                                    <span class="mood-text">いらいらする</span>
                                </div>
                                <div class="mood-option" data-mood="surprised">
                                    <span class="mood-emoji">😲</span>
                                    <span class="mood-text">驚いている</span>
                                </div>
                            </div>
                            <input type="hidden" id="mood" name="mood" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="reason">なぜその気分なのですか？</label>
                            <textarea id="reason" name="reason" placeholder="その気分になった理由を教えてください..." required></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="penname">ペンネーム</label>
                            <input type="text" id="penname" name="penname" placeholder="無記入の場合は「詠み人知らず」と表示されます" maxlength="20">
                        </div>
                        
                        <div class="form-actions">
                            <button type="submit" class="submit-btn" id="submit-btn">
                                <span class="btn-text">川柳を生成する</span>
                                <span class="btn-loading" style="display: none;">川柳生成中...</span>
                            </button>
                            <p class="generation-time-note">※川柳の生成には約5秒～10秒かかります</p>
                        </div>
                    </form>
                    
                    <div id="result-section" class="result-section" style="display: none;">
                        <div class="haiku-result">
                            <h3>あなたの川柳</h3>
                            <div class="haiku-display" id="haiku-display"></div>
                            <div class="haiku-info">
                                <p class="note">竹芝での思い出を川柳として記録しました。</p>
                            </div>
                            <div class="haiku-actions">
                                <button class="action-btn" id="new-haiku-btn">新しい川柳を作る</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 他の人の川柳閲覧セクション -->
            <div class="haiku-gallery-section">
                <div class="section-header">
                    <h2>📜 みんなの川柳</h2>
                    <p>他の人が作った川柳を見てみましょう</p>
                </div>
                
                
                <div id="haiku-gallery" class="haiku-gallery">
                    <!-- 動的に川柳が表示されます -->
                </div>
                
                <div class="loading-indicator" id="loading-indicator" style="display: none;">
                    <div class="spinner"></div>
                    <p>川柳を読み込み中...</p>
                </div>
            </div>
            
            <!-- ディスプレイページへのリンク -->
            <div class="display-link-section">
                <a href="/display" class="display-link-btn">
                    <span class="display-icon">🖥️</span>
                    <span class="display-text">ディスプレイ表示</span>
                    <span class="display-subtext">縦長ディスプレイ用の表示</span>
                </a>
            </div>
        </main>
        
        <footer class="footer">
            <p>慶應義塾大学大学院メディアデザイン研究科</p>
            <p>MeLIGHT Project</p>
        </footer>
    </div>
    
    <script src="/app.js"></script>
</body>
</html>